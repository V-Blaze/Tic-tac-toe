{"version":3,"sources":["index.js"],"names":["canvas","ctx","width","height","size","lines","tick","line","path","speed","rand","count","randInt","x","y","target","dist","angle","hue","life","updateAngle","updateDist","prototype","step","i","Math","cos","sin","changeTarget","push","length","shift","splice","dx","dy","sqrt","atan2","randStart","draw","beginPath","rando","j","strokeStyle","lineWidth","stroke","min","max","random","floor","init","document","getElementById","getContext","reset","loop","ceil","window","innerWidth","innerHeight","create","clear","globalCompositeOperation","fillStyle","fillRect","save","translate","rotate","scale","restore","requestAnimationFrame","onresize","addEventListener"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["var canvas, ctx, width, height, size, lines, tick;\r\n\r\nfunction line() {\r\n\tthis.path = [];\r\n\tthis.speed = rand(10, 20);\r\n\tthis.count = randInt(10, 30);\r\n\t(this.x = width / 2), +1;\r\n\tthis.y = height / 2 + 1;\r\n\tthis.target = { x: width / 2, y: height / 2 };\r\n\tthis.dist = 0;\r\n\tthis.angle = 0;\r\n\tthis.hue = tick / 5;\r\n\tthis.life = 1;\r\n\tthis.updateAngle();\r\n\tthis.updateDist();\r\n}\r\n\r\nline.prototype.step = function(i) {\r\n\tthis.x += Math.cos(this.angle) * this.speed;\r\n\tthis.y += Math.sin(this.angle) * this.speed;\r\n\r\n\tthis.updateDist();\r\n\r\n\tif (this.dist < this.speed) {\r\n\t\tthis.x = this.target.x;\r\n\t\tthis.y = this.target.y;\r\n\t\tthis.changeTarget();\r\n\t}\r\n\r\n\tthis.path.push({ x: this.x, y: this.y });\r\n\tif (this.path.length > this.count) {\r\n\t\tthis.path.shift();\r\n\t}\r\n\r\n\tthis.life -= 0.001;\r\n\r\n\tif (this.life <= 0) {\r\n\t\tthis.path = null;\r\n\t\tlines.splice(i, 1);\r\n\t}\r\n};\r\n\r\nline.prototype.updateDist = function() {\r\n\tvar dx = this.target.x - this.x,\r\n\t\tdy = this.target.y - this.y;\r\n\tthis.dist = Math.sqrt(dx * dx + dy * dy);\r\n};\r\n\r\nline.prototype.updateAngle = function() {\r\n\tvar dx = this.target.x - this.x,\r\n\t\tdy = this.target.y - this.y;\r\n\tthis.angle = Math.atan2(dy, dx);\r\n};\r\n\r\nline.prototype.changeTarget = function() {\r\n\tvar randStart = randInt(0, 3);\r\n\tswitch (randStart) {\r\n\t\tcase 0: // up\r\n\t\t\tthis.target.y = this.y - size;\r\n\t\t\tbreak;\r\n\t\tcase 1: // right\r\n\t\t\tthis.target.x = this.x + size;\r\n\t\t\tbreak;\r\n\t\tcase 2: // down\r\n\t\t\tthis.target.y = this.y + size;\r\n\t\t\tbreak;\r\n\t\tcase 3: // left\r\n\t\t\tthis.target.x = this.x - size;\r\n\t}\r\n\tthis.updateAngle();\r\n};\r\n\r\nline.prototype.draw = function(i) {\r\n\tctx.beginPath();\r\n\tvar rando = rand(0, 10);\r\n\tfor (var j = 0, length = this.path.length; j < length; j++) {\r\n\t\tctx[j === 0 ? 'moveTo' : 'lineTo'](this.path[j].x + rand(-rando, rando), this.path[j].y + rand(-rando, rando));\r\n\t}\r\n\tctx.strokeStyle = 'hsla(' + rand(this.hue, this.hue + 30) + ', 80%, 55%, ' + this.life / 3 + ')';\r\n\tctx.lineWidth = rand(0.1, 2);\r\n\tctx.stroke();\r\n};\r\n\r\nfunction rand(min, max) {\r\n\treturn Math.random() * (max - min) + min;\r\n}\r\n\r\nfunction randInt(min, max) {\r\n\treturn Math.floor(min + Math.random() * (max - min + 1));\r\n}\r\n\r\nfunction init() {\r\n\tcanvas = document.getElementById('canvas');\r\n\tctx = canvas.getContext('2d');\r\n\tsize = 30;\r\n\tlines = [];\r\n\treset();\r\n\tloop();\r\n}\r\n\r\nfunction reset() {\r\n\twidth = Math.ceil(window.innerWidth / 2) * 2;\r\n\theight = Math.ceil(window.innerHeight / 2) * 2;\r\n\ttick = 0;\r\n\r\n\tlines.length = 0;\r\n\tcanvas.width = width;\r\n\tcanvas.height = height;\r\n}\r\n\r\nfunction create() {\r\n\tif (tick % 10 === 0) {\r\n\t\tlines.push(new line());\r\n\t}\r\n}\r\n\r\nfunction step() {\r\n\tvar i = lines.length;\r\n\twhile (i--) {\r\n\t\tlines[i].step(i);\r\n\t}\r\n}\r\n\r\nfunction clear() {\r\n\tctx.globalCompositeOperation = 'destination-out';\r\n\tctx.fillStyle = 'hsla(0, 0%, 0%, 0.1';\r\n\tctx.fillRect(0, 0, width, height);\r\n\tctx.globalCompositeOperation = 'lighter';\r\n}\r\n\r\nfunction draw() {\r\n\tctx.save();\r\n\tctx.translate(width / 2, height / 2);\r\n\tctx.rotate(tick * 0.001);\r\n\tvar scale = 0.8 + Math.cos(tick * 0.02) * 0.2;\r\n\tctx.scale(scale, scale);\r\n\tctx.translate(-width / 2, -height / 2);\r\n\tvar i = lines.length;\r\n\twhile (i--) {\r\n\t\tlines[i].draw(i);\r\n\t}\r\n\tctx.restore();\r\n}\r\n\r\nfunction loop() {\r\n\trequestAnimationFrame(loop);\r\n\tcreate();\r\n\tstep();\r\n\tclear();\r\n\tdraw();\r\n\ttick++;\r\n}\r\n\r\nfunction onresize() {\r\n\treset();\r\n}\r\n\r\nwindow.addEventListener('resize', onresize);\r\n\r\ninit();\r\n"]}